<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ú–æ–Ω–æ–ø–æ–ª—ñ—è ‚Äî –æ–±–ª—ñ–∫ –≤–ª–∞—Å–Ω–æ—Å—Ç—ñ –∑ –±—É–¥–∏–Ω–∫–∞–º–∏</title>
<style>
* {
    box-sizing: border-box;
}

body {
    background-color: #f0f8ff;
    background-image:
        linear-gradient(#e0f0ff 1px, transparent 1px),
        linear-gradient(90deg, #e0f0ff 1px, transparent 1px);
    background-size: 30px 30px;
    font-family: "Comic Sans MS", "Segoe Print", "Arial Rounded MT Bold", cursive;
    color: #0a3d91;
    padding: 20px;
    margin: 0;
}

h1, h2, h3 {
    text-align: center;
    margin-top: 0;
}

h1 {
    color: #0a3d91;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    background: linear-gradient(90deg, #0a3d91, #1e90ff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    padding: 10px;
}

.container {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    justify-content: center;
    max-width: 1400px;
    margin: 0 auto;
}

.box {
    border: 3px solid #0a3d91;
    padding: 20px;
    background: rgba(255, 255, 255, 0.95);
    min-width: 300px;
    flex: 1;
    max-width: 500px;
    box-shadow: 5px 5px 15px rgba(0,0,0,0.1);
    border-radius: 15px;
}

button {
    font-family: inherit;
    background: linear-gradient(145deg, #0a3d91, #1e90ff);
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    color: white;
    border-radius: 8px;
    margin: 5px;
    font-weight: bold;
    transition: all 0.3s;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
}

button:hover {
    transform: translateY(-2px);
    box-shadow: 3px 3px 8px rgba(0,0,0,0.3);
}

button:active {
    transform: translateY(1px);
}

select, input {
    font-family: inherit;
    color: #0a3d91;
    border: 2px solid #0a3d91;
    padding: 8px 12px;
    border-radius: 8px;
    margin: 5px 0;
    width: 100%;
    background: white;
}

.card {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 5px solid #0a3d91;
    background: white;
    padding: 30px;
    z-index: 100;
    min-width: 400px;
    max-width: 600px;
    box-shadow: 0 0 40px rgba(0,0,0,0.4);
    border-radius: 20px;
    text-align: center;
}

.hidden { 
    display: none; 
}

.owner {
    font-size: 0.9em;
    margin: 5px 0;
    padding: 3px 8px;
    border-radius: 5px;
    display: inline-block;
}

.street-item {
    padding: 15px;
    border-bottom: 2px dashed #ccc;
    margin-bottom: 10px;
    border-radius: 10px;
    transition: all 0.3s;
}

.street-item:hover {
    background-color: rgba(10, 61, 145, 0.05);
    transform: translateX(5px);
}

.street-name {
    font-weight: bold;
    color: #0a3d91;
    font-size: 1.2em;
    margin-bottom: 5px;
}

.street-actions {
    display: flex;
    gap: 10px;
    margin-top: 10px;
    flex-wrap: wrap;
}

.house-controls {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 10px;
    padding: 10px;
    background: rgba(10, 61, 145, 0.05);
    border-radius: 8px;
}

.house-count {
    font-weight: bold;
    color: #0a3d91;
    font-size: 1.2em;
}

.house-buttons {
    display: flex;
    gap: 5px;
}

.house-buttons button {
    padding: 5px 10px;
    font-size: 0.9em;
}

.house {
    color: #e74c3c;
    font-weight: bold;
}

.hotel {
    color: #2ecc71;
    font-weight: bold;
}

.rent-info {
    background: linear-gradient(145deg, #e3f2fd, #bbdefb);
    padding: 10px;
    border-radius: 8px;
    margin: 10px 0;
    border-left: 4px solid #0a3d91;
}

.rent-amount {
    font-size: 1.2em;
    font-weight: bold;
    color: #0a3d91;
}

.player-item {
    margin: 10px 0;
    display: flex;
    align-items: center;
    gap: 10px;
}

.player-color {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    border: 2px solid white;
    box-shadow: 0 0 5px rgba(0,0,0,0.3);
}

.remove-player {
    background: linear-gradient(145deg, #ff6b6b, #ee5a52);
    color: white;
    border: none;
    border-radius: 50%;
    width: 28px;
    height: 28px;
    cursor: pointer;
    font-size: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    z-index: 99;
}

.total-value {
    font-weight: bold;
    margin-top: 20px;
    padding-top: 15px;
    border-top: 3px solid #0a3d91;
    text-align: center;
    font-size: 1.1em;
}

.color-group {
    font-size: 0.8em;
    padding: 2px 8px;
    border-radius: 10px;
    color: white;
    font-weight: bold;
}

.monopoly-badge {
    background: gold;
    color: #0a3d91;
    padding: 3px 10px;
    border-radius: 15px;
    font-size: 0.8em;
    font-weight: bold;
    margin-left: 10px;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.property-card {
    border: 3px solid;
    border-radius: 15px;
    padding: 20px;
    margin: 20px 0;
    background: white;
    box-shadow: 5px 5px 15px rgba(0,0,0,0.1);
}

.rent-table {
    width: 100%;
    border-collapse: collapse;
    margin: 10px 0;
}

.rent-table td {
    padding: 8px;
    border-bottom: 1px solid #ddd;
}

.rent-table tr:last-child td {
    border-bottom: none;
}

.rent-table .highlight {
    background: #e3f2fd;
    font-weight: bold;
}

.card-title {
    font-size: 1.5em;
    font-weight: bold;
    margin-bottom: 15px;
    padding: 10px;
    border-radius: 10px;
    color: white;
}

@media (max-width: 1200px) {
    .container {
        flex-direction: column;
        align-items: center;
    }
    
    .box {
        width: 100%;
        max-width: 100%;
    }
}

@media (max-width: 768px) {
    .card {
        min-width: 90vw;
        padding: 20px;
    }
    
    .street-actions {
        flex-direction: column;
    }
}
</style>
</head>

<body>

<div class="header">
    <h1>üè¢ –ú–æ–Ω–æ–ø–æ–ª—ñ—è ‚Äî –û–±–ª—ñ–∫ –≤–ª–∞—Å–Ω–æ—Å—Ç—ñ –∑ –±—É–¥–∏–Ω–∫–∞–º–∏ üè†</h1>
</div>

<div class="container">
    <div class="box">
        <h2>üë• –ì—Ä–∞–≤—Ü—ñ</h2>
        <div id="players"></div>
        <button onclick="addPlayer()">‚ûï –î–æ–¥–∞—Ç–∏ –≥—Ä–∞–≤—Ü—è</button>
        <div class="total-value" id="playerStats"></div>
    </div>

    <div class="box">
        <h2>üèòÔ∏è –í–ª–∞—Å–Ω—ñ—Å—Ç—å</h2>
        <div id="streets"></div>
        <div class="total-value" id="totalStats"></div>
    </div>

    <div class="box">
        <h2>üé¥ –ö–∞—Ä—Ç–∫–∏ —Ç–∞ –¥—ñ—ó</h2>
        <div class="card-buttons" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin: 20px 0;">
            <button onclick="openChance()">üé≤ –®–∞–Ω—Å</button>
            <button onclick="openCommunity()">üì¶ –°—É—Å–ø—ñ–ª—å–Ω–∞ –∫–∞–∑–Ω–∞</button>
            <button onclick="showAllProperties()">üìã –í—Å—ñ –≤—É–ª–∏—Ü—ñ</button>
            <button onclick="resetGame()">üîÑ –ù–æ–≤–∞ –≥—Ä–∞</button>
        </div>
        
        <h3>üí∞ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ—Ä–µ–Ω–¥–∏</h3>
        <div id="rentCalculator">
            <p>–û–±–µ—Ä—ñ—Ç—å –≤—É–ª–∏—Ü—é —Ç–∞ –ø–æ–¥–∏–≤—ñ—Ç—å—Å—è, —Å–∫—ñ–ª—å–∫–∏ –º–∞—î –∑–∞–ø–ª–∞—Ç–∏—Ç–∏ –≥—Ä–∞–≤–µ—Ü—å:</p>
            <select id="calcStreetSelect" onchange="calculateRentForStreet()">
                <option value="">–û–±–µ—Ä—ñ—Ç—å –≤—É–ª–∏—Ü—é</option>
            </select>
            <div id="rentResult" class="rent-info" style="margin-top: 10px;"></div>
        </div>
        
        <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥—Ä–∏</h3>
        <div id="gameStats"></div>
    </div>
</div>

<div id="overlay" class="overlay hidden" onclick="closeCard()"></div>

<div id="card" class="card hidden">
    <h2 id="cardTitle"></h2>
    <div id="cardContent"></div>
    <button onclick="closeCard()">–ó–∞–∫—Ä–∏—Ç–∏</button>
</div>

<script>
// –î–∞–Ω—ñ –≥—Ä–∏
let players = [];

// –¢–í–û–á –í–£–õ–ò–¶–Ü - –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–º—ñ–Ω–µ–Ω–æ –±–ª–æ–∫ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π
let properties = [
    // üî¥ –ö–æ—Ä–∏—á–Ω–µ–≤–∞ –≥—Ä—É–ø–∞ (2 –≤—É–ª–∏—Ü—ñ)
    {name: "–ß–∫–∞–ª–æ–≤–∞", price: 60, rent: [2, 10, 30, 90, 160, 250], houseCost: 50, color: "#8B4513", group: "brown", houses: 0},
    {name: "–¢–µ–ª—å–º–∞–Ω–∞", price: 60, rent: [4, 20, 60, 180, 320, 450], houseCost: 50, color: "#8B4513", group: "brown", houses: 0},

    // üîµ –ë–ª–∞–∫–∏—Ç–Ω–∞ –≥—Ä—É–ø–∞ (3 –≤—É–ª–∏—Ü—ñ)
    {name: "–í–æ–∫–∑–∞–ª—å–Ω–∞", price: 100, rent: [6, 30, 90, 270, 400, 550], houseCost: 50, color: "#87CEEB", group: "lightblue", houses: 0},
    {name: "–û–∑–µ—Ä–Ω–∞", price: 100, rent: [6, 30, 90, 270, 400, 550], houseCost: 50, color: "#87CEEB", group: "lightblue", houses: 0},
    {name: "–ü–æ–ª—å–æ–≤–∞", price: 120, rent: [8, 40, 100, 300, 450, 600], houseCost: 50, color: "#87CEEB", group: "lightblue", houses: 0},

    // üü£ –†–æ–∂–µ–≤–∞ –≥—Ä—É–ø–∞ (3 –≤—É–ª–∏—Ü—ñ)
    {name: "–ú–∞—Ç—Ä–æ—Å–æ–≤–∞", price: 140, rent: [10, 50, 150, 450, 625, 750], houseCost: 100, color: "#FF69B4", group: "pink", houses: 0},
    {name: "–ù–∞–±–µ—Ä–µ–∂–Ω–∞", price: 140, rent: [10, 50, 150, 450, 625, 750], houseCost: 100, color: "#FF69B4", group: "pink", houses: 0},
    {name: "–ú–∞—è–∫–æ–≤—Å—å–∫–æ–≥–æ", price: 160, rent: [12, 60, 180, 500, 700, 900], houseCost: 100, color: "#FF69B4", group: "pink", houses: 0},

    // üü† –ü–æ–º–∞—Ä–∞–Ω—á–µ–≤–∞ –≥—Ä—É–ø–∞ (3 –≤—É–ª–∏—Ü—ñ)
    {name: "–í–∞—Ç—É—Ç—ñ–Ω–∞", price: 180, rent: [14, 70, 200, 550, 750, 950], houseCost: 100, color: "#FFA500", group: "orange", houses: 0},
    {name: "–°–∞–¥–æ–≤–∞", price: 180, rent: [14, 70, 200, 550, 750, 950], houseCost: 100, color: "#FFA500", group: "orange", houses: 0},
    {name: "–°–æ–Ω—è—á–Ω–∞", price: 200, rent: [16, 80, 220, 600, 800, 1000], houseCost: 100, color: "#FFA500", group: "orange", houses: 0},

    // üî¥ –ß–µ—Ä–≤–æ–Ω–∞ –≥—Ä—É–ø–∞ (3 –≤—É–ª–∏—Ü—ñ)
    {name: "–ú–æ–ª–æ–¥—ñ–∂–Ω–∞", price: 220, rent: [18, 90, 250, 700, 875, 1050], houseCost: 150, color: "#FF0000", group: "red", houses: 0},
    {name: "–§—Ä—É–Ω–∑–µ", price: 220, rent: [18, 90, 250, 700, 875, 1050], houseCost: 150, color: "#FF0000", group: "red", houses: 0},
    {name: "–ó–∞–≤–æ–¥—Å—å–∫–∞", price: 240, rent: [20, 100, 300, 750, 925, 1100], houseCost: 150, color: "#FF0000", group: "red", houses: 0},

    // üü° –ñ–æ–≤—Ç–∞ –≥—Ä—É–ø–∞ (3 –≤—É–ª–∏—Ü—ñ)
    {name: "–ö–æ–∑–∞—Ü—å–∫–∞", price: 260, rent: [22, 110, 330, 800, 975, 1150], houseCost: 150, color: "#FFD700", group: "yellow", houses: 0},
    {name: "–õ–µ—Å—ñ –£–∫—Ä–∞—ó–Ω–∫–∏", price: 260, rent: [22, 110, 330, 800, 975, 1150], houseCost: 150, color: "#FFD700", group: "yellow", houses: 0},
    {name: "–°–æ–±–æ—Ä–Ω–∞", price: 280, rent: [24, 120, 360, 850, 1025, 1200], houseCost: 150, color: "#FFD700", group: "yellow", houses: 0},

    // üü¢ –ó–µ–ª–µ–Ω–∞ –≥—Ä—É–ø–∞ (3 –≤—É–ª–∏—Ü—ñ)
    {name: "–ì—Ä—É—à–µ–≤—Å—å–∫–æ–≥–æ", price: 300, rent: [26, 130, 390, 900, 1100, 1275], houseCost: 200, color: "#32CD32", group: "green", houses: 0},
    {name: "–ù–µ–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ", price: 300, rent: [26, 130, 390, 900, 1100, 1275], houseCost: 200, color: "#32CD32", group: "green", houses: 0},
    {name: "–®–µ–≤—á–µ–Ω–∫–∞", price: 320, rent: [28, 150, 450, 1000, 1200, 1400], houseCost: 200, color: "#32CD32", group: "green", houses: 0},

    // üîµ –°–∏–Ω—è –≥—Ä—É–ø–∞ (2 –≤—É–ª–∏—Ü—ñ)
    {name: "–ö–∏—ó–≤—Å—å–∫–∞", price: 350, rent: [35, 175, 500, 1100, 1300, 1500], houseCost: 200, color: "#0000FF", group: "blue", houses: 0},
    {name: "–ú–∏—Ä—É", price: 400, rent: [50, 200, 600, 1400, 1700, 2000], houseCost: 200, color: "#0000FF", group: "blue", houses: 0}
];

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
function init() {
    players = [
        {name: "–ì—Ä–∞–≤–µ—Ü—å 1", color: "#FF6B6B", money: 1500},
        {name: "–ì—Ä–∞–≤–µ—Ü—å 2", color: "#4ECDC4", money: 1500}
    ];
    
    renderPlayers();
    updateGame();
    populateStreetSelector();
}

// –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≥—Ä–∞–≤—Ü—ñ–≤
function renderPlayers() {
    const div = document.getElementById("players");
    div.innerHTML = "";
    
    players.forEach((player, index) => {
        div.innerHTML += `
            <div class="player-item">
                <div class="player-color" style="background-color: ${player.color}"></div>
                <input value="${player.name}" onchange="players[${index}].name=this.value; updateGame()" placeholder="–Ü–º'—è –≥—Ä–∞–≤—Ü—è">
                <input type="number" value="${player.money}" onchange="players[${index}].money=parseInt(this.value); updateGame()" placeholder="–ì—Ä–æ—à—ñ" style="width: 120px;">
                <button class="remove-player" onclick="removePlayer(${index})">√ó</button>
            </div>`;
    });
}

// –î–æ–¥–∞–≤–∞–Ω–Ω—è –≥—Ä–∞–≤—Ü—è
function addPlayer() {
    if (players.length >= 8) return alert("–ú–∞–∫—Å–∏–º—É–º 8 –≥—Ä–∞–≤—Ü—ñ–≤");
    
    const colors = ['#FF6B6B', '#4ECDC4', '#FFD166', '#06D6A0', '#118AB2', '#EF476F', '#7209B7', '#F15BB5'];
    const playerNum = players.length + 1;
    
    players.push({
        name: `–ì—Ä–∞–≤–µ—Ü—å ${playerNum}`,
        color: colors[players.length % colors.length],
        money: 1500
    });
    
    renderPlayers();
    updateGame();
    populateStreetSelector();
}

// –í–∏–¥–∞–ª–µ–Ω–Ω—è –≥—Ä–∞–≤—Ü—è
function removePlayer(index) {
    if (confirm(`–í–∏–¥–∞–ª–∏—Ç–∏ –≥—Ä–∞–≤—Ü—è ${players[index].name}? –£—Å—ñ –π–æ–≥–æ –≤—É–ª–∏—Ü—ñ –±—É–¥—É—Ç—å –∑–≤—ñ–ª—å–Ω–µ–Ω—ñ.`)) {
        // –ó–≤—ñ–ª—å–Ω—è—î–º–æ –≤—É–ª–∏—Ü—ñ
        properties.forEach(property => {
            if (property.owner === players[index].name) {
                property.owner = null;
                property.houses = 0;
            }
        });
        
        players.splice(index, 1);
        renderPlayers();
        updateGame();
        populateStreetSelector();
    }
}

// –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—É–ª–∏—Ü—å
function renderStreets() {
    const div = document.getElementById("streets");
    div.innerHTML = "";
    
    properties.forEach((property, index) => {
        const isOwned = property.owner ? true : false;
        const ownerColor = isOwned ? getPlayerColor(property.owner) : '#cccccc';
        const isMonopoly = checkMonopoly(property.group, property.owner);
        const currentRent = calculateCurrentRent(property);
        
        div.innerHTML += `
            <div class="street-item" style="border-left: 5px solid ${property.color}">
                <div class="street-name">
                    ${property.name}
                    ${isMonopoly ? '<span class="monopoly-badge">–ú–æ–Ω–æ–ø–æ–ª—ñ—è!</span>' : ''}
                </div>
                <div class="owner" style="background-color: ${ownerColor}20; border: 1px solid ${ownerColor}">
                    ${property.owner ? "–í–ª–∞—Å–Ω–∏–∫: " + property.owner : "–í—ñ–ª—å–Ω–∞"}
                </div>
                <div>–í–∞—Ä—Ç—ñ—Å—Ç—å: ${property.price} ‚Ç¥</div>
                <div>–í–∞—Ä—Ç—ñ—Å—Ç—å –±—É–¥–∏–Ω–∫—É: ${property.houseCost} ‚Ç¥</div>
                
                <div class="rent-info">
                    <div>–ü–æ—Ç–æ—á–Ω–∞ –æ—Ä–µ–Ω–¥–∞: <span class="rent-amount">${currentRent} ‚Ç¥</span></div>
                    <div>${property.houses === 0 ? '–ë–µ–∑ –±—É–¥–∏–Ω–∫—ñ–≤' : property.houses === 5 ? '–ì–æ—Ç–µ–ª—å' : property.houses + ' –±—É–¥–∏–Ω–∫–∏'}</div>
                </div>
                
                ${isOwned ? `
                    <div class="house-controls">
                        <div>–ë—É–¥–∏–Ω–∫–∏:</div>
                        <div class="house-count">${property.houses === 5 ? 'üè® –ì–æ—Ç–µ–ª—å' : 'üè†'.repeat(property.houses)}</div>
                        <div class="house-buttons">
                            <button onclick="addHouse(${index})" ${property.houses >= 5 || !isMonopoly ? 'disabled' : ''}>+ –ë—É–¥–∏–Ω–æ–∫</button>
                            <button onclick="removeHouse(${index})" ${property.houses <= 0 ? 'disabled' : ''}>- –ë—É–¥–∏–Ω–æ–∫</button>
                            <button onclick="addHotel(${index})" ${property.houses !== 4 || !isMonopoly ? 'disabled' : ''}>üè® –ì–æ—Ç–µ–ª—å</button>
                        </div>
                    </div>
                ` : ''}
                
                <div class="street-actions">
                    <select onchange="assignProperty(${index}, this.value)" ${players.length === 0 ? 'disabled' : ''}>
                        <option value="">‚Äî –æ–±—Ä–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–∫–∞ ‚Äî</option>
                        ${players.map(player => `<option ${property.owner === player.name ? 'selected' : ''}>${player.name}</option>`).join("")}
                    </select>
                    <button onclick="showPropertyCard(${index})">üìã –ö–∞—Ä—Ç–∫–∞</button>
                    ${property.owner ? `<button onclick="freeProperty(${index})">üóëÔ∏è –ó–≤—ñ–ª—å–Ω–∏—Ç–∏</button>` : ''}
                </div>
            </div>`;
    });
}

// –ü—Ä–∏–≤–ª–∞—Å–Ω–∏—Ç–∏ –≤—É–ª–∏—Ü—é –≥—Ä–∞–≤—Ü—é
function assignProperty(index, ownerName) {
    const property = properties[index];
    
    if (ownerName === "") {
        property.owner = null;
        property.houses = 0;
    } else {
        property.owner = ownerName;
    }
    
    updateGame();
}

// –ó–≤—ñ–ª—å–Ω–∏—Ç–∏ –≤—É–ª–∏—Ü—é
function freeProperty(index) {
    properties[index].owner = null;
    properties[index].houses = 0;
    updateGame();
}

// –î–æ–¥–∞—Ç–∏ –±—É–¥–∏–Ω–æ–∫
function addHouse(index) {
    const property = properties[index];
    
    if (property.houses < 4 && checkMonopoly(property.group, property.owner)) {
        property.houses++;
        updateGame();
    }
}

// –í–∏–¥–∞–ª–∏—Ç–∏ –±—É–¥–∏–Ω–æ–∫
function removeHouse(index) {
    const property = properties[index];
    
    if (property.houses > 0) {
        property.houses--;
        updateGame();
    }
}

// –î–æ–¥–∞—Ç–∏ –≥–æ—Ç–µ–ª—å
function addHotel(index) {
    const property = properties[index];
    
    if (property.houses === 4 && checkMonopoly(property.group, property.owner)) {
        property.houses = 5;
        updateGame();
    }
}

// –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –º–æ–Ω–æ–ø–æ–ª—ñ—é
function checkMonopoly(group, owner) {
    if (!owner) return false;
    
    const groupProperties = properties.filter(p => p.group === group);
    const ownedProperties = groupProperties.filter(p => p.owner === owner);
    
    return groupProperties.length === ownedProperties.length;
}

// –†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω—É –æ—Ä–µ–Ω–¥—É
function calculateCurrentRent(property) {
    if (!property.owner) return 0;
    
    const isMonopoly = checkMonopoly(property.group, property.owner);
    
    // ‚úÖ –Ø–∫—â–æ –º–æ–Ω–æ–ø–æ–ª—ñ—è —ñ –Ω–µ–º–∞—î –±—É–¥–∏–Ω–∫—ñ–≤ - –æ—Ä–µ–Ω–¥–∞ –ø–æ–¥–≤–æ—é—î—Ç—å—Å—è
    if (isMonopoly && property.houses === 0) {
        return property.rent[0] * 2;
    }
    
    // –ó –±—É–¥–∏–Ω–∫–∞–º–∏/–≥–æ—Ç–µ–ª—è–º–∏
    return property.rent[property.houses];
}

// –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–ª—ñ—Ä –≥—Ä–∞–≤—Ü—è
function getPlayerColor(playerName) {
    const player = players.find(p => p.name === playerName);
    return player ? player.color : '#cccccc';
}

// –ü–æ–∫–∞–∑–∞—Ç–∏ –∫–∞—Ä—Ç–∫—É –≤—É–ª–∏—Ü—ñ
function showPropertyCard(index) {
    const property = properties[index];
    const isMonopoly = checkMonopoly(property.group, property.owner);
    const currentRent = calculateCurrentRent(property);
    
    let content = `
        <div class="property-card" style="border-color: ${property.color}">
            <div class="card-title" style="background: ${property.color}">${property.name}</div>
            <div style="margin: 15px 0;">
                <strong>–í–ª–∞—Å–Ω–∏–∫:</strong> ${property.owner || "–ù–µ–º–∞—î"}<br>
                <strong>–í–∞—Ä—Ç—ñ—Å—Ç—å:</strong> ${property.price} ‚Ç¥<br>
                <strong>–í–∞—Ä—Ç—ñ—Å—Ç—å –±—É–¥–∏–Ω–∫—É:</strong> ${property.houseCost} ‚Ç¥<br>
                <strong>–ë—É–¥–∏–Ω–∫–∏:</strong> ${property.houses === 5 ? '–ì–æ—Ç–µ–ª—å' : property.houses}<br>
                ${isMonopoly ? '<div style="color: gold; font-weight: bold; margin: 10px 0;">‚≠ê –ú–æ–Ω–æ–ø–æ–ª—ñ—è!</div>' : ''}
            </div>
            
            <table class="rent-table">
                <tr><td>–û—Ä–µ–Ω–¥–∞ –±–µ–∑ –±—É–¥–∏–Ω–∫—ñ–≤</td><td><strong>${property.rent[0]} ‚Ç¥</strong></td></tr>
                <tr><td>–ó 1 –±—É–¥–∏–Ω–∫–æ–º</td><td>${property.rent[1]} ‚Ç¥</td></tr>
                <tr><td>–ó 2 –±—É–¥–∏–Ω–∫–∞–º–∏</td><td>${property.rent[2]} ‚Ç¥</td></tr>
                <tr><td>–ó 3 –±—É–¥–∏–Ω–∫–∞–º–∏</td><td>${property.rent[3]} ‚Ç¥</td></tr>
                <tr><td>–ó 4 –±—É–¥–∏–Ω–∫–∞–º–∏</td><td>${property.rent[4]} ‚Ç¥</td></tr>
                <tr><td>–ó –≥–æ—Ç–µ–ª–µ–º</td><td><strong>${property.rent[5]} ‚Ç¥</strong></td></tr>
            </table>
            
            <div class="rent-info" style="margin-top: 20px; font-size: 1.2em;">
                <strong>–ü–æ—Ç–æ—á–Ω–∞ –æ—Ä–µ–Ω–¥–∞:</strong> <span style="color: #0a3d91; font-weight: bold; font-size: 1.3em;">${currentRent} ‚Ç¥</span><br>
                <small>${property.owner ? `–Ø–∫—â–æ —ñ–Ω—à–∏–π –≥—Ä–∞–≤–µ—Ü—å –∑—É–ø–∏–Ω–∏—Ç—å—Å—è —Ç—É—Ç, –≤—ñ–Ω –º–∞—î –∑–∞–ø–ª–∞—Ç–∏—Ç–∏ ${currentRent} ‚Ç¥ –≥—Ä–∞–≤—Ü—é ${property.owner}` : "–í—É–ª–∏—Ü—è –≤—ñ–ª—å–Ω–∞ –¥–ª—è –∫—É–ø—ñ–≤–ª—ñ"}</small>
            </div>
        </div>`;
    
    showCard(property.name, content);
}

// –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ –≤—É–ª–∏—Ü—ñ
function showAllProperties() {
    let content = "<h3>–í—Å—ñ –≤—É–ª–∏—Ü—ñ –≤ –≥—Ä—ñ</h3>";
    
    // –ì—Ä—É–ø—É—î–º–æ –∑–∞ –∫–æ–ª—å–æ—Ä–∞–º–∏
    const groups = {};
    properties.forEach(property => {
        if (!groups[property.group]) {
            groups[property.group] = [];
        }
        groups[property.group].push(property);
    });
    
    // –°–æ—Ä—Ç—É—î–º–æ –≥—Ä—É–ø–∏ –∑–∞ –ª–æ–≥—ñ—á–Ω–∏–º –ø–æ—Ä—è–¥–∫–æ–º
    const groupOrder = ['brown', 'lightblue', 'pink', 'orange', 'red', 'yellow', 'green', 'blue'];
    
    groupOrder.forEach(group => {
        if (groups[group]) {
            const groupProperties = groups[group];
            const color = groupProperties[0].color;
            const groupNames = {
                'brown': 'üî¥ –ö–æ—Ä–∏—á–Ω–µ–≤–∞',
                'lightblue': 'üîµ –ë–ª–∞–∫–∏—Ç–Ω–∞', 
                'pink': 'üü£ –†–æ–∂–µ–≤–∞',
                'orange': 'üü† –ü–æ–º–∞—Ä–∞–Ω—á–µ–≤–∞',
                'red': 'üî¥ –ß–µ—Ä–≤–æ–Ω–∞',
                'yellow': 'üü° –ñ–æ–≤—Ç–∞',
                'green': 'üü¢ –ó–µ–ª–µ–Ω–∞',
                'blue': 'üîµ –°–∏–Ω—è'
            };
            
            content += `
                <div class="property-card" style="border-color: ${color}; margin-bottom: 20px;">
                    <div style="background: ${color}; color: white; padding: 10px; border-radius: 10px 10px 0 0;">
                        <strong>${groupNames[group]}</strong> (${groupProperties.length} –≤—É–ª–∏—Ü—å)
                    </div>
                    <div style="padding: 15px;">
                        ${groupProperties.map(p => `
                            <div style="margin: 8px 0; padding: 8px; background: ${p.owner ? getPlayerColor(p.owner)+'20' : '#f5f5f5'}; border-radius: 5px;">
                                <strong>${p.name}</strong> - ${p.price} ‚Ç¥
                                ${p.owner ? `<br><small>–í–ª–∞—Å–Ω–∏–∫: ${p.owner}, –±—É–¥–∏–Ω–∫–∏: ${p.houses}, –æ—Ä–µ–Ω–¥–∞: ${calculateCurrentRent(p)} ‚Ç¥</small>` : ''}
                            </div>
                        `).join('')}
                    </div>
                </div>`;
        }
    });
    
    showCard("–í—Å—ñ –≤—É–ª–∏—Ü—ñ", content);
}

// –ü–æ–∫–∞–∑–∞—Ç–∏ –∫–∞—Ä—Ç–∫—É —à–∞–Ω—Å—É
function openChance() {
    const chanceCards = [
        "–ü—Ä–æ–π–¥—ñ—Ç—å –Ω–∞ –°—Ç–∞—Ä—Ç. –û—Ç—Ä–∏–º–∞–π—Ç–µ 200 ‚Ç¥.",
        "–ë–∞–Ω–∫ –≤–∏–ø–ª–∞—á—É—î –≤–∞–º –¥–∏–≤—ñ–¥–µ–Ω–¥–∏ —É —Ä–æ–∑–º—ñ—Ä—ñ 50 ‚Ç¥.",
        "–í–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –≤–∏–≥—Ä–∞—à —É –ª–æ—Ç–µ—Ä–µ—é. –û—Ç—Ä–∏–º–∞–π—Ç–µ 100 ‚Ç¥.",
        "–ó–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –∑ –≤'—è–∑–Ω–∏—Ü—ñ. –¶—è –∫–∞—Ä—Ç–∞ –º–æ–∂–µ –±—É—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–∞ –¥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç—É.",
        "–í—ñ–¥–ø—Ä–∞–≤–ª—è–π—Ç–µ—Å—å —É –≤'—è–∑–Ω–∏—Ü—é. –ü—Ä—è–º–æ —É –≤'—è–∑–Ω–∏—Ü—é, –Ω–µ –ø—Ä–æ—Ö–æ–¥—å—Ç–µ ¬´–°—Ç–∞—Ä—Ç¬ª, –Ω–µ –æ—Ç—Ä–∏–º—É–π—Ç–µ 200 ‚Ç¥.",
        "–û–ø–ª–∞—Ç—ñ—Ç—å —à—Ç—Ä–∞—Ñ –∑–∞ –ø–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ ‚Äî 15 ‚Ç¥.",
        "–†–µ–º–æ–Ω—Ç –≤—É–ª–∏—Ü—å. –ó–∞ –∫–æ–∂–µ–Ω –±—É–¥–∏–Ω–æ–∫ –∑–∞–ø–ª–∞—Ç–∏—Ç–µ 25 ‚Ç¥, –∑–∞ –∫–æ–∂–µ–Ω –≥–æ—Ç–µ–ª—å ‚Äî 100 ‚Ç¥.",
        "–ê–≤–∞–Ω—Å —É —Ä–æ–∑–º—ñ—Ä—ñ 100 ‚Ç¥."
    ];
    
    const randomCard = chanceCards[Math.floor(Math.random() * chanceCards.length)];
    showCard("üé≤ –®–∞–Ω—Å", `<div style="padding: 30px; font-size: 1.2em;">${randomCard}</div>`);
}

// –ü–æ–∫–∞–∑–∞—Ç–∏ –∫–∞—Ä—Ç–∫—É —Å—É—Å–ø—ñ–ª—å–Ω–æ—ó –∫–∞–∑–Ω–∏
function openCommunity() {
    const communityCards = [
        "–ü–æ–º–∏–ª–∫–∞ –±–∞–Ω–∫—É –Ω–∞ –≤–∞—à—É –∫–æ—Ä–∏—Å—Ç—å. –û—Ç—Ä–∏–º–∞–π—Ç–µ 200 ‚Ç¥.",
        "–û–ø–ª–∞—Ç—ñ—Ç—å –ª—ñ–∫–∞—Ä–Ω—è–Ω–∏–π –∑–±—ñ—Ä 100 ‚Ç¥.",
        "–í–∏ –∑–∞–π–Ω—è–ª–∏ –¥—Ä—É–≥–µ –º—ñ—Å—Ü–µ –≤ –∫–æ–Ω–∫—É—Ä—Å—ñ –∫—Ä–∞—Å–∏. –û—Ç—Ä–∏–º–∞–π—Ç–µ 10 ‚Ç¥.",
        "–ù–∞ –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –∫–æ–∂–µ–Ω –≥—Ä–∞–≤–µ—Ü—å –¥–∞—Ä—É—î –≤–∞–º 10 ‚Ç¥.",
        "–ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø–æ–¥–∞—Ç–∫—É. –û—Ç—Ä–∏–º–∞–π—Ç–µ 20 ‚Ç¥.",
        "–û–ø–ª–∞—Ç—ñ—Ç—å —Å—Ç—Ä–∞—Ö–æ–≤–∫—É ‚Äî 50 ‚Ç¥.",
        "–ó–±—ñ—Ä –Ω–∞ –†—ñ–∑–¥–≤–æ. –û—Ç—Ä–∏–º–∞–π—Ç–µ 100 ‚Ç¥ –≤—ñ–¥ –∫–æ–∂–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è.",
        "–í–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ —Å–ø–∞–¥—â–∏–Ω—É. –û—Ç—Ä–∏–º–∞–π—Ç–µ 100 ‚Ç¥."
    ];
    
    const randomCard = communityCards[Math.floor(Math.random() * communityCards.length)];
    showCard("üì¶ –°—É—Å–ø—ñ–ª—å–Ω–∞ –∫–∞–∑–Ω–∞", `<div style="padding: 30px; font-size: 1.2em;">${randomCard}</div>`);
}

// –ü–æ–∫–∞–∑–∞—Ç–∏ –∫–∞—Ä—Ç–∫—É
function showCard(title, content) {
    document.getElementById("cardTitle").innerHTML = title;
    document.getElementById("cardContent").innerHTML = content;
    document.getElementById("card").classList.remove("hidden");
    document.getElementById("overlay").classList.remove("hidden");
}

// –ó–∞–∫—Ä–∏—Ç–∏ –∫–∞—Ä—Ç–∫—É
function closeCard() {
    document.getElementById("card").classList.add("hidden");
    document.getElementById("overlay").classList.add("hidden");
}

// –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≥—Ä–∞–≤—Ü—ñ–≤
function updatePlayerStats() {
    const statsDiv = document.getElementById("playerStats");
    
    if (players.length === 0) {
        statsDiv.innerHTML = "–î–æ–¥–∞–π—Ç–µ –≥—Ä–∞–≤—Ü—ñ–≤ –¥–ª—è –ø–æ—á–∞—Ç–∫—É –≥—Ä–∏";
        return;
    }
    
    let statsHTML = "<h3>–ì—Ä–∞–≤—Ü—ñ —Ç–∞ —ó—Ö–Ω—è –≤–ª–∞—Å–Ω—ñ—Å—Ç—å:</h3>";
    
    players.forEach(player => {
        const playerProperties = properties.filter(p => p.owner === player.name);
        const totalValue = playerProperties.reduce((sum, prop) => sum + prop.price, 0);
        const housesCount = playerProperties.reduce((sum, prop) => sum + prop.houses, 0);
        const hotelsCount = playerProperties.filter(prop => prop.houses === 5).length;
        
        statsHTML += `
            <div style="margin: 10px 0; padding: 10px; border-radius: 8px; background-color: ${player.color}20; border-left: 4px solid ${player.color};">
                <strong>${player.name}</strong><br>
                –ì—Ä–æ—à—ñ: ${player.money} ‚Ç¥<br>
                –í—É–ª–∏—Ü—å: ${playerProperties.length}<br>
                –ë—É–¥–∏–Ω–∫–∏: ${housesCount} (–≥–æ—Ç–µ–ª—ñ–≤: ${hotelsCount})<br>
                –í–∞—Ä—Ç—ñ—Å—Ç—å –≤–ª–∞—Å–Ω–æ—Å—Ç—ñ: ${totalValue} ‚Ç¥
            </div>`;
    });
    
    statsDiv.innerHTML = statsHTML;
}

// –û–Ω–æ–≤–∏—Ç–∏ –∑–∞–≥–∞–ª—å–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
function updateTotalStats() {
    const statsDiv = document.getElementById("totalStats");
    const ownedProperties = properties.filter(p => p.owner).length;
    const freeProperties = properties.length - ownedProperties;
    const totalHouses = properties.reduce((sum, prop) => sum + (prop.houses < 5 ? prop.houses : 0), 0);
    const totalHotels = properties.filter(prop => prop.houses === 5).length;
    
    statsDiv.innerHTML = `
        <div>–í—Å—å–æ–≥–æ –≤—É–ª–∏—Ü—å: ${properties.length}</div>
        <div>–ó–∞–π–Ω—è—Ç–æ: ${ownedProperties}, –í—ñ–ª—å–Ω–∏—Ö: ${freeProperties}</div>
        <div>–ü–æ–±—É–¥–æ–≤–∞–Ω–æ –±—É–¥–∏–Ω–∫—ñ–≤: ${totalHouses}, –≥–æ—Ç–µ–ª—ñ–≤: ${totalHotels}</div>
    `;
}

// –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≥—Ä–∏
function updateGameStats() {
    const statsDiv = document.getElementById("gameStats");
    
    // ‚úÖ –ó–Ω–∞—Ö–æ–¥–∏–º–æ –Ω–∞–π–±–∞–≥–∞—Ç—à–æ–≥–æ –≥—Ä–∞–≤—Ü—è
    let richestPlayer = null;
    let maxWealth = 0;
    
    players.forEach(player => {
        const playerProperties = properties.filter(p => p.owner === player.name);
        const propertyValue = playerProperties.reduce((sum, prop) => sum + prop.price, 0);
        const totalWealth = player.money + propertyValue;
        
        if (totalWealth > maxWealth) {
            maxWealth = totalWealth;
            richestPlayer = player.name;
        }
    });
    
    // ‚úÖ –ó–Ω–∞—Ö–æ–¥–∏–º–æ –º–æ–Ω–æ–ø–æ–ª—ñ—ó
    const monopolies = [];
    const groups = ["brown", "lightblue", "pink", "orange", "red", "yellow", "green", "blue"];
    
    groups.forEach(group => {
        const groupProperties = properties.filter(p => p.group === group);
        if (groupProperties.length > 0) {
            const owners = [...new Set(groupProperties.map(p => p.owner).filter(o => o))];
            if (owners.length === 1 && owners[0]) {
                monopolies.push({
                    group: groupProperties[0].name.split(" ")[0], 
                    owner: owners[0], 
                    color: groupProperties[0].color,
                    fullGroupName: getGroupName(group)
                });
            }
        }
    });
    
    // ‚úÖ –ó–Ω–∞–π–¥–µ–º–æ –Ω–∞–π–¥–æ—Ä–æ–∂—á—É –≤—É–ª–∏—Ü—é
    let mostExpensiveStreet = "";
    let maxPrice = 0;
    properties.forEach(prop => {
        if (prop.price > maxPrice) {
            maxPrice = prop.price;
            mostExpensiveStreet = prop.name;
        }
    });
    
    statsDiv.innerHTML = `
        <div>üéØ <strong>–ù–∞–π–¥–æ—Ä–æ–∂—á–∞ –≤—É–ª–∏—Ü—è:</strong> ${mostExpensiveStreet} (${maxPrice} ‚Ç¥)</div>
        <div>üí∞ <strong>–ù–∞–π–±–∞–≥–∞—Ç—à–∏–π –≥—Ä–∞–≤–µ—Ü—å:</strong> ${richestPlayer || "–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö"}</div>
        <div>‚≠ê <strong>–ú–æ–Ω–æ–ø–æ–ª—ñ—ó:</strong> ${monopolies.length > 0 ? monopolies.map(m => `<span style="color:${m.color}">${m.fullGroupName}</span> (${m.owner})`).join(", ") : "–ù–µ–º–∞—î"}</div>
        <div>üè† <strong>–í—Å—å–æ–≥–æ –±—É–¥–∏–Ω–∫—ñ–≤ –ø–æ–±—É–¥–æ–≤–∞–Ω–æ:</strong> ${properties.reduce((sum, prop) => sum + (prop.houses < 5 ? prop.houses : 0), 0)}</div>
        <div>üè® <strong>–í—Å—å–æ–≥–æ –≥–æ—Ç–µ–ª—ñ–≤ –ø–æ–±—É–¥–æ–≤–∞–Ω–æ:</strong> ${properties.filter(prop => prop.houses === 5).length}</div>
    `;
}

// –û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–∑–≤—É –≥—Ä—É–ø–∏ –∑–∞ —ó—ó –∫–ª—é—á–µ–º
function getGroupName(groupKey) {
    const groupNames = {
        'brown': '–ö–æ—Ä–∏—á–Ω–µ–≤–∞',
        'lightblue': '–ë–ª–∞–∫–∏—Ç–Ω–∞', 
        'pink': '–†–æ–∂–µ–≤–∞',
        'orange': '–ü–æ–º–∞—Ä–∞–Ω—á–µ–≤–∞',
        'red': '–ß–µ—Ä–≤–æ–Ω–∞',
        'yellow': '–ñ–æ–≤—Ç–∞',
        'green': '–ó–µ–ª–µ–Ω–∞',
        'blue': '–°–∏–Ω—è'
    };
    return groupNames[groupKey] || groupKey;
}

// –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –æ—Ä–µ–Ω–¥–∏
function populateStreetSelector() {
    const select = document.getElementById("calcStreetSelect");
    select.innerHTML = '<option value="">–û–±–µ—Ä—ñ—Ç—å –≤—É–ª–∏—Ü—é</option>';
    
    properties.forEach((prop, index) => {
        select.innerHTML += `<option value="${index}">${prop.name} (${prop.owner || "–≤—ñ–ª—å–Ω–∞"})</option>`;
    });
}

// ‚úÖ –†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ –æ—Ä–µ–Ω–¥—É –¥–ª—è –æ–±—Ä–∞–Ω–æ—ó –≤—É–ª–∏—Ü—ñ
function calculateRentForStreet() {
    const select = document.getElementById("calcStreetSelect");
    const resultDiv = document.getElementById("rentResult");
    
    if (!select.value) {
        resultDiv.innerHTML = "–û–±–µ—Ä—ñ—Ç—å –≤—É–ª–∏—Ü—é –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –æ—Ä–µ–Ω–¥–∏";
        return;
    }
    
    const index = parseInt(select.value);
    const property = properties[index];
    const rent = calculateCurrentRent(property);
    const isMonopoly = checkMonopoly(property.group, property.owner);
    
    if (!property.owner) {
        resultDiv.innerHTML = `
            <strong>${property.name}</strong><br>
            <em>–í—É–ª–∏—Ü—è –≤—ñ–ª—å–Ω–∞ –¥–ª—è –∫—É–ø—ñ–≤–ª—ñ</em><br>
            <strong>–¶—ñ–Ω–∞ –∫—É–ø—ñ–≤–ª—ñ: ${property.price} ‚Ç¥</strong><br>
            <small>–ë–∞–∑–æ–≤–∞ –æ—Ä–µ–Ω–¥–∞: ${property.rent[0]} ‚Ç¥</small>
        `;
    } else {
        let monopolyInfo = "";
        if (isMonopoly) {
            monopolyInfo = `<div style="color: gold; font-weight: bold; margin: 5px 0;">‚≠ê –ú–æ–Ω–æ–ø–æ–ª—ñ—è (–æ—Ä–µ–Ω–¥–∞ –ø–æ–¥–≤–æ—î–Ω–∞ –±–µ–∑ –±—É–¥–∏–Ω–∫—ñ–≤)</div>`;
        }
        
        resultDiv.innerHTML = `
            <strong>${property.name}</strong><br>
            –í–ª–∞—Å–Ω–∏–∫: <span style="color: ${getPlayerColor(property.owner)}">${property.owner}</span><br>
            –ë—É–¥–∏–Ω–∫–∏: ${property.houses === 5 ? 'üè® –ì–æ—Ç–µ–ª—å' : 'üè†'.repeat(property.houses) || '–ù–µ–º–∞—î'}<br>
            ${monopolyInfo}
            <div style="font-size: 1.4em; color: #0a3d91; font-weight: bold; margin: 10px 0;">
                –û–†–ï–ù–î–ê: ${rent} ‚Ç¥
            </div>
            <small>–Ø–∫—â–æ –≥—Ä–∞–≤–µ—Ü—å –∑—É–ø–∏–Ω–∏—Ç—å—Å—è —Ç—É—Ç, –≤—ñ–Ω –º–∞—î –∑–∞–ø–ª–∞—Ç–∏—Ç–∏ ${rent} ‚Ç¥ –≥—Ä–∞–≤—Ü—é ${property.owner}</small>
        `;
    }
}

// –°–∫–∏–Ω—É—Ç–∏ –≥—Ä—É
function resetGame() {
    if (confirm("–†–æ–∑–ø–æ—á–∞—Ç–∏ –Ω–æ–≤—É –≥—Ä—É? –£—Å—ñ –ø–æ—Ç–æ—á–Ω—ñ –¥–∞–Ω—ñ –±—É–¥—É—Ç—å –≤—Ç—Ä–∞—á–µ–Ω—ñ.")) {
        init();
    }
}

// –û–Ω–æ–≤–∏—Ç–∏ –≤—Å—é –≥—Ä—É
function updateGame() {
    renderStreets();
    updatePlayerStats();
    updateTotalStats();
    updateGameStats();
    populateStreetSelector();
    calculateRentForStreet();
}

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
window.onload = init;
</script>
</body>
</html>